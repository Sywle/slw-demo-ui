{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'mdinputView',\n  data() {\n    return {\n      ruleForm: {\n        name: '',\n        company: '',\n        dxengins: [{\n          dxname: '',\n          dxselect: ''\n        }]\n      },\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入活动名称',\n          trigger: 'blur'\n        }],\n        company: [{\n          required: true,\n          message: '请输入活动名称',\n          trigger: 'blur'\n        }],\n        dxname: [{\n          required: true,\n          message: '请输入活动名称',\n          trigger: 'blur'\n        }],\n        dxselect: [{\n          required: true,\n          message: '请选择活动区域',\n          trigger: 'change'\n        }]\n      }\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          alert('submit!');\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    addDX() {\n      this.ruleForm.dxengins.push({\n        dxname: '',\n        dxselect: ''\n      });\n    },\n    removeDX(val) {\n      this.ruleForm.dxengins.splice(val, 1);\n    }\n  }\n};","map":{"version":3,"names":["name","data","ruleForm","company","dxengins","dxname","dxselect","rules","required","message","trigger","methods","submitForm","formName","$refs","validate","valid","alert","console","log","addDX","push","removeDX","val","splice"],"sources":["src/views/mdinputView.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>动态表单验证</h1>\n    <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"150px\" class=\"demo-ruleForm\" style=\"width: 500px\">\n      <el-form-item label=\"名称\" prop=\"name\">\n        <el-input v-model=\"ruleForm.name\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"公司\" prop=\"company\">\n        <el-input v-model=\"ruleForm.company\"></el-input>\n      </el-form-item>\n      <el-card v-for=\"(item, index ) in ruleForm.dxengins\" :key=\"index\">\n        <el-row type=\"flex\" align=\"middle\">\n          <el-col :span=\"20\">\n            <el-form-item label=\"单项工程名称\" :prop=\"'dxengins.' + index + '.dxname'\" :rules=\"rules.dxname\">\n              <el-input v-model=\"item.dxname\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"单项工程类型\" :prop=\"'dxengins.' + index + '.dxselect'\" :rules=\"rules.dxselect\">\n              <el-select v-model=\"item.dxselect\" placeholder=\"请选择公司\">\n                <el-option label=\"公司1\" value=\"shanghai\"></el-option>\n                <el-option label=\"公司2\" value=\"beijing\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"4\" v-if=\"!index\">\n            <el-button type=\"success\" icon=\"el-icon-plus\" circle @click=\"addDX()\"></el-button>\n          </el-col>\n          <el-col :span=\"4\" v-else>\n            <el-button type=\"danger\" icon=\"el-icon-delete\" circle @click=\"removeDX(index)\"></el-button>\n          </el-col>\n        </el-row>\n      </el-card>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">立即创建</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default ({\n  name: 'mdinputView',\n  data() {\n    return {\n      ruleForm: {\n        name: '',\n        company: '',\n        dxengins: [\n          {\n            dxname: '',\n            dxselect: '',\n          }\n        ]\n      },\n      rules: {\n        name: [\n          { required: true, message: '请输入活动名称', trigger: 'blur' },\n        ],\n        company: [\n          { required: true, message: '请输入活动名称', trigger: 'blur' },\n        ],\n        dxname: [\n          { required: true, message: '请输入活动名称', trigger: 'blur' },\n        ],\n        dxselect: [\n          { required: true, message: '请选择活动区域', trigger: 'change' }\n        ],\n      }\n    }\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          alert('submit!');\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    addDX() {\n      this.ruleForm.dxengins.push({\n        dxname: '',\n        dxselect: '',\n      })\n    },\n    removeDX(val) {\n      this.ruleForm.dxengins.splice(val, 1)\n    }\n  }\n})\n</script>\n<style scoped>\n\n</style>"],"mappings":";AAuCA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;QACAF,IAAA;QACAG,OAAA;QACAC,QAAA,GACA;UACAC,MAAA;UACAC,QAAA;QACA;MAEA;MACAC,KAAA;QACAP,IAAA,GACA;UAAAQ,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAP,OAAA,GACA;UAAAK,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAL,MAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAJ,QAAA,GACA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAC,OAAA;IACAC,WAAAC,QAAA;MACA,KAAAC,KAAA,CAAAD,QAAA,EAAAE,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACAC,KAAA;QACA;UACAC,OAAA,CAAAC,GAAA;UACA;QACA;MACA;IACA;IACAC,MAAA;MACA,KAAAlB,QAAA,CAAAE,QAAA,CAAAiB,IAAA;QACAhB,MAAA;QACAC,QAAA;MACA;IACA;IACAgB,SAAAC,GAAA;MACA,KAAArB,QAAA,CAAAE,QAAA,CAAAoB,MAAA,CAAAD,GAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}